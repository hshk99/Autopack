# Archive Directory - Output Restrictions
# Purpose: Prevent Autopack from creating random files/folders in archive/
#
# ALLOWED subdirectories:
# - prompts/   (agent prompt templates)
# - tidy_v7/   (tidy system implementation docs)
# - research/  (research workflow)
# - diagnostics/ (diagnostic logs and runs)
# - patches/   (code patches)
# - configs/   (configuration archives)
# - scripts/   (archived scripts)
# - superseded/ (deprecated code)
# - security-infrastructure/ (archived security baseline infrastructure)
#
# DISALLOWED: Any new top-level files or directories not listed above

# Block all new files in archive root
/*

# Allow specific subdirectories (whitelist approach)
!/prompts/
!/tidy_v7/
!/research/
!/diagnostics/
!/patches/
!/configs/
!/scripts/
!/superseded/
!/reports/
!/security-infrastructure/

# Allow this .gitignore file itself
!/.gitignore

# Allow README files for documentation
!/README.md

# Allow archive index files (auto-generated by tidy --execute)
!/ARCHIVE_INDEX.json
!/ARCHIVE_INDEX.md

# Allow schemas directory
!/schemas/
!/schemas/**

# Within allowed directories, permit all content
!/prompts/**
!/tidy_v7/**
!/research/**
!/diagnostics/**
!/patches/**
!/configs/**
!/scripts/**
!/superseded/**
!/reports/**
!/security-infrastructure/**

# But exclude diagnostic backup zips (build artifacts)
/diagnostics/doc_link_fix_backup_*.zip
