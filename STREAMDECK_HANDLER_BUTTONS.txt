================================================================================
                    STREAM DECK HANDLER BUTTON SETUP
================================================================================

Add these 4 buttons to Stream Deck for complete handler management

================================================================================
                         BUTTON 1: RESET BASELINES
================================================================================

Purpose: Delete corrupted baselines and prompt for clean recapture
When to use: First time setup, or if baselines get corrupted again

Setup in Stream Deck:
  1. Add "Open" action to button
  2. Click "Choose..."
  3. Select: C:\dev\Autopack\scripts\reset_baselines.bat
  4. Label: "ğŸ”„ Reset Baselines"
  5. Press OK

What it does:
  â€¢ Deletes old baselines
  â€¢ Shows critical instructions
  â€¢ Pauses so you can read (press any key to close)

When pressed:
  â†’ Window opens with reset instructions
  â†’ Follow the steps shown
  â†’ When done, close the window

================================================================================
                      BUTTON 2: CLEAN ERRORS (Phase 1)
================================================================================

Purpose: Manually recover from connection errors before baseline capture
When to use: Before starting handler, if any errors are visible

Setup in Stream Deck:
  1. Add "Open" action to button
  2. Click "Choose..."
  3. Select: C:\dev\Autopack\scripts\handle_connection_errors.bat
  4. Label: "ğŸ› ï¸ Clean Errors (Phase 1)"
  5. Press OK

What it does:
  â€¢ Launches Phase 1 manual handler
  â€¢ Prompts you to enter slot number with error
  â€¢ Clicks Resume button in that slot

When pressed:
  â†’ Window opens asking for slot number
  â†’ Type 1-9 and press Enter
  â†’ Handler clicks Resume in that slot
  â†’ Repeat for any other error slots
  â†’ Type 'q' to quit when done

================================================================================
                    BUTTON 3: START HANDLER (Phase 2)
================================================================================

Purpose: Start automated error detection and recovery
When to use: After baselines are captured in clean state

Setup in Stream Deck:
  1. Add "Open" action to button
  2. Click "Choose..."
  3. Select: C:\dev\Autopack\scripts\handle_connection_errors_automated.bat
  4. Label: "âš¡ Start Auto Handler"
  5. Press OK

What it does:
  â€¢ Launches Phase 2 automated handler
  â€¢ Captures baseline (if needed) or starts monitoring
  â€¢ Continuously watches for errors and clicks Resume

When pressed:
  â†’ New window opens
  â†’ Shows: "Ready. Monitoring grid for connection errors..."
  â†’ Handler runs continuously (keep window open)
  â†’ To stop: Close window or press Ctrl+C

================================================================================
                       BUTTON 4: RUN DIAGNOSTIC
================================================================================

Purpose: Test if handler detection is working
When to use: When handler doesn't seem to detect errors

Setup in Stream Deck:
  1. Add "Open" action to button
  2. Click "Choose..."
  3. Select: C:\dev\Autopack\scripts\diagnose_connection_errors.bat
  4. Label: "ğŸ” Diagnose Handler"
  5. Press OK

What it does:
  â€¢ Monitors handler for 60 seconds
  â€¢ Captures detailed pixel change metrics
  â€¢ Shows if detection is working
  â€¢ Creates log file with results

When pressed:
  â†’ Window opens
  â†’ Shows: "Monitoring for 60 seconds. Trigger a connection error now!"
  â†’ Trigger error in Cursor within 60 seconds
  â†’ Waits, then reports:
    - If error was detected
    - What pixel changes occurred
    - Detailed metrics for analysis

================================================================================
                      COMPLETE WORKFLOW
================================================================================

FIRST TIME SETUP (5 minutes):
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

1. Click: "ğŸ”„ Reset Baselines"
   â”œâ”€ Follow instructions shown
   â”œâ”€ Read the critical info
   â””â”€ Close window when done

2. If ANY Cursor slots show "Connection Error":
   â”œâ”€ Click: "ğŸ› ï¸ Clean Errors (Phase 1)"
   â”œâ”€ Type slot number
   â”œâ”€ Press Enter (handler clicks Resume)
   â”œâ”€ Repeat for all error slots
   â””â”€ Type 'q' to quit

3. Ensure ALL 9 slots show clean editor (no errors)

4. Click: "âš¡ Start Auto Handler"
   â”œâ”€ New window opens and starts monitoring
   â”œâ”€ Keep this window open
   â””â”€ Shows: "Ready. Monitoring..."

DONE! Handler is now watching for errors.


ONGOING USE (Automatic):
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Handler (Button 3) is running in background:
  â€¢ Continuously monitors all 9 slots
  â€¢ Detects when connection error appears
  â€¢ Automatically clicks Resume button
  â€¢ Cursor recovers
  â€¢ Continues monitoring

No action needed - handler works automatically!


TROUBLESHOOTING:
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

If handler doesn't seem to detect errors:

1. Click: "ğŸ” Diagnose Handler"
   â”œâ”€ Trigger connection error when it prompts
   â”œâ”€ Wait 60 seconds
   â””â”€ Shows if detection working

2. If diagnostic shows errors NOT detected:
   â”œâ”€ Likely need fresh baselines
   â”œâ”€ Click: "ğŸ”„ Reset Baselines" again
   â”œâ”€ Clean any visible errors (Button 2)
   â””â”€ Start handler again (Button 3)

================================================================================
                    STREAM DECK LAYOUT SUGGESTION
================================================================================

Recommended button arrangement:

Row 1:
  [ğŸ”„ Reset]    [ğŸ› ï¸ Clean]     [âš¡ Start]
  Baselines     Errors         Handler

Row 2 (optional):
  [ğŸ” Diag]     [?]            [?]
  Diagnose      (other)        (other)


Or single row:
  [ğŸ”„] [ğŸ› ï¸] [âš¡] [ğŸ”]


Color coding (optional):
  â€¢ ğŸ”„ Reset Baselines: Blue (setup)
  â€¢ ğŸ› ï¸ Clean Errors: Yellow (manual recovery)
  â€¢ âš¡ Start Handler: Green (automatic)
  â€¢ ğŸ” Diagnose: Purple (troubleshooting)

================================================================================
                         KEY FILES
================================================================================

Button 1 (Reset Baselines):
  C:\dev\Autopack\scripts\reset_baselines.bat

Button 2 (Clean Errors - Phase 1):
  C:\dev\Autopack\scripts\handle_connection_errors.bat

Button 3 (Start Handler - Phase 2):
  C:\dev\Autopack\scripts\handle_connection_errors_automated.bat

Button 4 (Diagnose Handler):
  C:\dev\Autopack\scripts\diagnose_connection_errors.bat

================================================================================
                         QUICK SETUP (2 min)
================================================================================

In Stream Deck:

1. Add Button #1:
   File: C:\dev\Autopack\scripts\reset_baselines.bat
   Label: ğŸ”„ Reset Baselines

2. Add Button #2:
   File: C:\dev\Autopack\scripts\handle_connection_errors.bat
   Label: ğŸ› ï¸ Clean Errors

3. Add Button #3:
   File: C:\dev\Autopack\scripts\handle_connection_errors_automated.bat
   Label: âš¡ Start Handler

4. Add Button #4:
   File: C:\dev\Autopack\scripts\diagnose_connection_errors.bat
   Label: ğŸ” Diagnose

DONE! Ready to use!

================================================================================
                          IMPORTANT NOTES
================================================================================

âœ“ Reset baselines BEFORE starting handler (first time only)
âœ“ Keep handler window open while monitoring
âœ“ Phase 1 (Clean Errors) is for manual recovery if needed
âœ“ Phase 2 (Start Handler) is for automatic recovery
âœ“ Diagnostic helps troubleshoot if detection not working
âœ“ All buttons save to error log for analysis

================================================================================
                         STATUS
================================================================================

âœ… All 4 buttons configured and ready
âœ… Batch files created for Stream Deck compatibility
âœ… Complete workflow documented
âœ… Troubleshooting guide included

READY FOR STREAM DECK DEPLOYMENT!

================================================================================
