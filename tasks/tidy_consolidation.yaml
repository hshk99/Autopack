---
# Task: Documentation Consolidation
# Purpose: Consolidate scattered archive files into AI-optimized documentation

phase_id: tidy-consolidation-v1
category: maintenance
complexity: low

description: |
  Consolidate scattered documentation files from archive/ and old CONSOLIDATED_*.md
  files into AI-optimized format with intelligent status inference.

  Generates:
  - BUILD_HISTORY.md (past implementations)
  - DEBUG_LOG.md (problem solving)
  - ARCHITECTURE_DECISIONS.md (design rationale)
  - UNSORTED_REVIEW.md (manual review items)

  Features:
  - StatusAuditor for intelligent status inference (IMPLEMENTED/REJECTED/STALE)
  - Cross-references with WHATS_LEFT_TO_BUILD.md
  - Codebase scanning for implemented features
  - Age-based staleness detection (>180 days)
  - Confidence-based classification (0.6 threshold)

acceptance_criteria:
  - docs/BUILD_HISTORY.md generated with all implementation entries
  - docs/DEBUG_LOG.md generated with all debug/error entries
  - docs/ARCHITECTURE_DECISIONS.md generated with all decision/strategy entries
  - docs/UNSORTED_REVIEW.md generated for ambiguous items
  - Old CONSOLIDATED_*.md files deleted (CONSOLIDATED_DEBUG, CONSOLIDATED_STRATEGY, etc.)
  - No false STALE detections (verify timestamps accurate)
  - StatusAuditor cross-references working (tasks extracted from WHATS_LEFT_TO_BUILD)

dependencies: []

estimated_tokens: 5000
confidence: 95%

# Execution configuration
execution:
  type: script
  command: python scripts/tidy/consolidate_docs_v2.py
  timeout: 120
  working_directory: .

# Directory-specific execution (optional)
# To consolidate specific directory:
# command: python scripts/tidy/consolidate_docs_directory.py --directory archive/research

# Verification steps
verification:
  - Check BUILD_HISTORY.md exists and has entries
  - Check DEBUG_LOG.md exists and has entries
  - Check ARCHITECTURE_DECISIONS.md exists and has entries
  - Check UNSORTED_REVIEW.md for items needing manual review
  - Verify no STALE false positives (check timestamps)
  - Verify StatusAuditor loaded tasks from WHATS_LEFT_TO_BUILD

# Rollback on failure
rollback:
  - Restore old CONSOLIDATED_*.md files from git
  - Delete generated docs if incomplete
